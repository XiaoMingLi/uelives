<<<<<<< HEAD
angular.module("Uelives",["ngRoute","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,t,n,r,o){angular.forEach(o.interceptor,function(t){var n=t.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});n+="Controller",e.when("/"+t,{templateUrl:"templates/"+t+".html",reloadOnSearch:!1,controller:n,resolve:{user:["$q","$location","localStorageService",function(e,n,r){var o=["account"],i=e.defer();return o.includes(t)&&!r.get("token")?(i.reject(),n.path("/signin").replace(),void 0):(i.resolve(),i.promise)}]}})}),e.otherwise("/index"),t.defaults.useXDomain=!0,t.defaults.withCredentials=!0,delete t.defaults.headers.common["X-Requested-With"],r.setStorageCookie(.02),t.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Uelives").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,n,r,o){return{rsa_key:n._get(angular.extend({},o.common_params,{url:"key/private_key.pem"})),signin:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),signup:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/RegistTelOne"})),forget:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),reset:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),get_smscode:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/GetCode"})),query_basicinfo:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/userInfo",token:r.get("token")})),update_avatar:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateBgImg",token:r.get("token")})),update_userinfo:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateUserInfo",token:r.get("token")})),realname_authen:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),phone_authen:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),like:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),unlike:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_messages:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_message_by_id:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_city:n._get(angular.extend({},o.common_params,{url:"city/city_with_index.json",token:r.get("token")})),query_inter_city:n._get(angular.extend({},o.common_params,{url:"city/inter_city_with_index.json",token:r.get("token")})),query_language:n._get(angular.extend({},o.common_params,{url:"city/language.json",token:r.get("token")})),query_industries:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/translateFieldList"})),create_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/addUserEduExps",token:r.get("token")})),query_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/userEduExperienceInfo",token:r.get("token")})),update_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/editUserEduExps",token:r.get("token")})),remove_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/deleteUserEduExps",token:r.get("token")})),create_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/addUserWorkExps",token:r.get("token")})),query_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/userUserWorkExpInfo",token:r.get("token")})),update_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/editUserWorkExps",token:r.get("token")})),remove_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/deleteUserWorkExps",token:r.get("token")})),create_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/addUserIdentity",token:r.get("token")})),query_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/userIdentityInfo",token:r.get("token")})),update_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/editUserIdentity",token:r.get("token")})),remove_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/deleteUserIdentity",token:r.get("token")})),query_scenes:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/translateSceneList",token:r.get("token")})),query_schedule:n._get(angular.extend({},o.common_params,{url:o.url+"/app/ScheduleManage/scheduleList",token:r.get("token")})),mark_schedule:n._get(angular.extend({},o.common_params,{url:o.url+"/app/ScheduleManage/setTranslateTime",token:r.get("token")})),booking:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/makeOrder"})),query_qualified_translator:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/fullCompletelyUserList"})),query_unqualified_translator:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/maybeUserList"})),query_comments:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Comments/myCommentList"})),comment:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Comments/comment"})),query_comment_by_order:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/commentDetail"})),online_booking:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/submitOrder"})),query_orders:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/myOrderList"})),query_order:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/orderDetail"})),mark:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/setOrderType"}))}}]),angular.module("Uelives").factory("uelivesServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,n,r,o){return{rsa_key:n._get(angular.extend({},o.common_params,{url:"key/private_key.pem"}))}}]),angular.module("Uelives").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,t,n,r,o){return{request:function(e){return e},requestError:function(){},response:function(r){var i=t.defer();return r.config.url.indexOf(".html")>0?r:r.data.code==o.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),n.remove("token"),e.path("/interpreter_settled").replace(),i.promise):r},responseError:function(e){var n=t.defer();return r.requestError(e.data,e.status,e.headers,e.config),n.promise}}}]),angular.module("Uelives").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Uelives").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,t,n){return{show:function(t){e.error_msg=t,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(n){e.error_msg=n,$(".error-msg").show(),t(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,t,r,o){switch(n.hide(),t){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(t),console.log(e),console.log(r),console.log(o),console.log("onRequestError end")}}}]),angular.module("Uelives").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices","config",function(e,t,n,r,o,i){var a=function(){},u=function(e,t,n){o.hide(),r.hide(),c(e,t,n)},s=function(){},c=function(){};return{init:function(){e.$on("$routeChangeStart",a),e.$on("$routeChangeSuccess",u),e.$on("$routeChangeError",s),e.go=function(e){n.path(e)},e.back=function(){t.history.back()},e.staticImageUrl=i.imageUrl}}}]),angular.module("Uelives").factory("apiServices",["$http","localStorageService",function(e,t){return{_get:function(n){return function(r){return void 0!==n.token&&(n.token=t.get("token")),e({url:n.url,method:"GET",params:angular.extend({},n,r)}).then(function(e){return e.data})}},_post:function(n){return function(r){return void 0!==n.token&&(n.token=t.get("token")),e({url:n.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},data:angular.extend({},n,r)}).then(function(e){return e.data})}}}}]),angular.module("Uelives").directive("uploader",["$timeout","localStorageService","toastServices","errorServices","config",function(e,t,n,r,o){return{restrict:"E",template:function(e,t){var n="",r=t.rate;return n="<imageview center-only data-rate='"+r+"' src='src'></imageview>"},controller:["$scope","$element","$attrs",function(e,r,i){var a,u;e.$on("flow::filesSubmitted",function(e,r){r.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return u=e,e}),a=(new Date).getTime()+u,r.opts.target=o.url+"/app/UserCenter/updatePic",r.opts.testChunks=!1,r.opts.fileParameterName="image_01",r.opts.query={invoke:"h5",token:t.get("token"),filename:a},n.show(),r.upload()}),e.$on("flow::fileAdded",function(){}),e.src="../images/default.png",i.default&&(e.src=i.default),i.$observe("src",function(t){t&&(e.src=o.imageUrl+t)}),e.$on("flow::fileSuccess",function(){e.src=o.imageUrl+a,n.hide()})}],link:function(){}}}]),angular.module("Uelives").directive("showOnLoaded",function(){return{link:function(e,t){$(t).css({visibility:"hidden"}),t.bind("load",function(){console.log("loaded");var n=parseFloat(e.$eval($(t).parent().attr("data-rate")));if(!n)return console.log("unexpect rate"),void 0;var r=$(t).width()/$(t).height();n>r?$(t).css({height:"100%",width:"auto"}):$(t).css({height:"auto",width:"100%"}),$(t).parent().css({background:"none"}),$(t).css({visibility:"visible"})})}}}),angular.module("Uelives").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,t){e.$last&&e.$emit("onRepeatDone",t)}}}),angular.module("Uelives").directive("onload",function(){return{restrict:"A",link:function(e,t){$(t).css({opacity:0}),$(t).bind("load",function(){$(t).css({opacity:1})})}}}),angular.module("Uelives").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' placeholder='{{options.placeholder}}' class='full-width' readonly ng-model='options.value'>",link:function(t,n){var r={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){t.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(n).find("input").datePicker(angular.extend({},r,t.options))},0)}}}]),angular.module("Uelives").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"="},controller:["$scope","$element","$attrs",function(t,n,r){function o(e){$(e.target).css({width:"auto",height:"auto"});var n=$(e.target),r=n.width(),o=n.height(),i=parseFloat(r)/parseFloat(o);i<t.rate?(r=t.width,o=t.width/i,n.css({display:"inline-block",height:o,width:r,"margin-top":-(o-t.height)/2})):(o=t.height,r=o*i,n.css({display:"inline-block",height:o,width:r,"margin-left":-(r-t.width)/2})),n.parent().css({background:"none"}),n.css({visibility:"visible"})}function i(e){var n=$(e.target),r=n.width(),o=n.height(),i=parseFloat(r)/parseFloat(o);i<t.rate?n.css({display:"inline-block",height:"100%",width:"auto"}):n.css({display:"inline-block",height:"auto",width:"100%"}),n.parent().css({background:"none"}),n.css({visibility:"visible"})}return t.bg_image="../images/default.png",t.rate=parseFloat(r.rate),t.width=n.parent().width()||$(window).width(),t.height=t.width/t.rate,t.rate?(this.show_center_on_loaded=function(t){o(t),e(function(){o(t)},100)},this.show_on_loaded=function(t){i(t),e(function(){i(t)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var t="<img ng-src='{{src}}' show-center-on-loaded err-src='../images/default.png'>";return void 0==$(e).attr("center-only")&&(t="<img ng-src='{{src}}' show-on-loaded err-src='../images/default.png'>"),t},link:function(e,t){var n={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.bg_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(t).css(n)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,n,r){t.bind("load",r.show_on_loaded)}}}).directive("showCenterOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,n,r){t.bind("load",r.show_center_on_loaded)}}}),angular.module("Uelives").directive("dribehanceHeader",function(){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(){}}}),angular.module("Uelives").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Uelives").directive("errSrc",function(){return{restrict:"A",link:function(e,t,n){$(t).bind("error",function(){$(t).attr("src",n.errSrc)})}}}),angular.module("Uelives").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(t,n){function r(){var n=t.countdown.message,r=parseFloat(t.countdown.count)?parseFloat(t.countdown.count):60;o=!0,t.$apply(function(){t.countdown.message=r--,t.countdown.message=r+"s重新获取",t.countdown.mode="disabled",t.countdown.reset=!1,t.countdown.callback()});var i=e(function(){t.countdown.message=r--,t.countdown.message=r+"s重新获取",(0>r||t.countdown.reset)&&(e.cancel(i),t.countdown.message=n,o=!1)},1e3)}var o=!1;$(n).bind("click",function(){t.disabled||o||r()})}}}]),angular.module("Uelives").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,t){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(t).show()},cancel:function(){$(t).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(t).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("Uelives").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,t){var n={autoplay:!0,items:1};n=angular.extend({},n,e.$eval($(t).attr("data-options")));var r=parseFloat(e.$eval($(t).attr("data-rate"))),o={display:"block",width:$(t).parent().width()||$(window).width(),height:($(t).parent().width()||$(window).width())/r};$(t).css(o),e.$on("onRepeatDone",function(){$(t).find(".carousel-holder").owlCarousel(n)})}}}),angular.module("Uelives").controller("selfBookingController",["$scope","$filter","$location","$routeParams","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){e.input={},e.input.sex=1,e.select_gender=function(t){e.input.sex=t},e.agree=!1,e.is_agree=function(){e.agree=!e.agree},e.countdown={message:"获取验证码"},e.countdown.callback=function(){u.show(),i.get_smscode({telephone:e.input.telephone}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?a.autoHide(t.message):(e.countdown.reset=!0,a.autoHide(t.message))})},e.format_time=function(e,n){return t("date")(e,n)},e.cache_and_go=function(t,r){s.set("cache",e.input),n.path(t).search("cache_key",r)};var l=s.get("cache");l&&(e.input=angular.extend({},e.input,l),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.ajaxForm=function(){u.show(),i.online_booking({type:3,orders_id:r.order_id,translate_user_id:r.id,work_content:e.input.work_content,other_require:e.input.other_require,order_name:e.input.nickname,order_company:e.input.company,order_telephone:e.input.telephone,order_wechat:e.input.wechat,money:e.input.money,msg_code:e.input.smscode}).then(function(e){u.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),o(function(){n.path("order_management_user").search({id:null,order_id:null,money:null}).replace()},2e3)):a.autoHide(e.message)})}}]),angular.module("Uelives").controller("schedulePreviewController",["$scope","$rootScope","$routeParams","$timeout","$route","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){e.input={},u.show(),i.query_schedule({user_id:n.id||"0"}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.schedules=t.calendarBeans:a.autoHide(t.message)}),e.append_class=function(e,t){return 0==t?"margin-left-"+e.week:void 0},e.parse_time=function(e){return e.schedule_date.split("-")[2]}}]),angular.module("Uelives").controller("scheduleController",["$scope","$rootScope","$routeParams","$timeout","$route","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){s.get("cache");e.input={},u.show(),i.query_schedule({user_id:n.id||"0"}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.schedules=t.calendarBeans:a.autoHide(t.message)}),e.parse_time=function(e){return e.schedule_date.split("-")[2]},e.append_class=function(e,t){return 0==t?"margin-left-"+e.week:void 0},e.active=function(t){e.input.day=t},e.mark_schedule=function(t){u.show(),i.mark_schedule({type:t,choice_currentdates:e.input.day.schedule_date}).then(function(e){u.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),r(function(){o.reload()},2e3)):a.autoHide(e.message)})}}]),angular.module("Uelives").controller("scenesController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},e.select_scene=function(e){e.select=!e.select},i.show(),r.query_scenes().then(function(t){var r=a.get("cache");i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.scenes=t.Result.TranslateScenes,e.scenes.map(function(e){return r&&r[n.cache_key]&&-1!=r[n.cache_key].indexOf(e.name)&&(e.select=!0),e})):o.autoHide(t.message)}),e.save=function(){var r=e.scenes.filter(function(e){return e.select}).map(function(e){return e.name});if(0==r.length)return o.autoHide("请选择擅长领域"),void 0;if(r.length>2)return o.autoHide("最多只能选择两个"),void 0;var i=a.get("cache");i&&n.cache_key&&(i[n.cache_key]=r.join("#"),a.set("cache",i)),t.back()}}]),angular.module("Uelives").controller("relatedIndustryController",["$scope","$routeParams","$rootScope","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,n,r,o,i,a,u){e.input={},e.select=function(e){e.select=!e.select},i.show(),r.query_industries().then(function(n){var r=a.get("cache");i.hide(),n.code==u.request.SUCCESS&&n.status==u.response.SUCCESS?(e.industries=n.Result.TranslateFields,e.industries.map(function(e){return r&&r[t.cache_key]&&-1!=r[t.cache_key].indexOf(e.name)&&(e.select=!0),e})):o.autoHide(n.message)}),e.save=function(){var r=e.industries.filter(function(e){return e.select}).map(function(e){return e.name});if(0==r.length)return o.autoHide("请选择擅长领域"),void 0;var i=a.get("cache");i&&t.cache_key&&(i[t.cache_key]=r.join("#"),a.set("cache",i)),n.back()}}]),angular.module("Uelives").controller("previewCommentController",["$scope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a){o.show(),n.query_comment_by_order({orders_id:t.id}).then(function(t){o.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?e.comment=t.Result.Comment:r.autoHide(t.message)})}]),angular.module("Uelives").controller("orderWaitController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderManagementUserController",["$scope","$route","$timeout","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={type:"3",status:"wait"},e.orders=[],e.page={pn:1,page_size:10,message:"点击加载更多",uid:"oqEj-vsfYWEE4l4rWAR7lxyJgOLI",order_type:e.input.type},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",o.query_orders(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.orders=e.orders.concat(t.Result.OrderList.list),e.no_more=e.orders.length==t.Result.OrderList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.orders.length+"条数据"),e.page.pn++}))},e.loadMore(),e.active_tab=function(t){e.input.type=t,e.page={pn:1,page_size:10,message:"点击加载更多",uid:"oqEj-vsfYWEE4l4rWAR7lxyJgOLI",order_type:e.input.type},e.orders=[],e.no_more=!1,e.loadMore()},e.format_time=function(e,t){return r("date")(e,t)},e.parse_time=function(t){return t.split("#").map(function(t){return e.format_time(t,"yyyy.MM.dd")}).join("-")},e.mark=function(r,u){var c=["","接受","拒绝","收款"];e.confirm.content=c[r],e.confirm.open(),e.confirm.cancle_callback=function(){},e.confirm.ok_callback=function(){a.show(),o.mark({orders_id:u.orders_id,transaction_id:u.transaction_id,type:r}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(i.autoHide(e.message),n(function(){t.reload()},2e3)):i.autoHide(e.message)})}}}]),angular.module("Uelives").controller("orderManagementInterpreterController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderFinishControllerController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderController",["$scope","$routeParams","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){i.show(),r.query_order({orders_id:t.id}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.order=t.Result.Orders,e.order.schedule_from=e.format_time(e.order.order_time.split("#")[0],"MM-dd"),e.order.schedule_to=e.format_time(e.order.order_time.split("#")[e.order.order_time.split("#").length-1],"MM-dd")):o.autoHide(t.message)}),e.format_time=function(e,t){return n("date")(e,t)},e.parse_time=function(t){return t.split("#").map(function(t){return e.format_time(t,"yyyy.MM.dd")}).join("-")}}]),angular.module("Uelives").controller("orderConfirmController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderCancelController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("onlinePreviewController",["$scope","$routeParams","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},i.show(),r.query_basicinfo({type:"2",ta_user_id:t.id}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.user=t.Result.UserInfo:o.autoHide(t.message)}),e.format_time=function(e,t){return n("date")(e,t)}}]),angular.module("Uelives").controller("onlineBookingController",["$scope","$filter","$location","$routeParams","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){e.input={},e.input.sex=1,e.select_gender=function(t){e.input.sex=t},e.check=function(t){e.input.check=t},e.agree=!1,e.is_agree=function(){e.agree=!e.agree},e.countdown={message:"获取验证码"},e.countdown.callback=function(){u.show(),i.get_smscode({telephone:e.input.telephone}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?a.autoHide(t.message):(e.countdown.reset=!0,a.autoHide(t.message))})},u.show(),i.query_basicinfo({type:"2",ta_user_id:r.id}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.user=t.Result.UserInfo:a.autoHide(t.message)}),e.format_time=function(e,n){return t("date")(e,n)},e.cache_and_go=function(t,r){s.set("cache",e.input),n.path(t).search("cache_key",r)};var l=s.get("cache");l&&(e.input=angular.extend({},e.input,l),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.ajaxForm=function(){return e.agree?(u.show(),i.online_booking({type:e.input.check,orders_id:r.order_id,translate_user_id:r.id,work_content:e.input.work_content,other_require:e.input.other_require,order_name:e.input.nickname,order_company:e.input.company,order_telephone:e.input.telephone,order_wechat:e.input.wechat,money:e.get_total_money(e.user.pay_day),msg_code:e.input.smscode}).then(function(e){u.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),o(function(){n.path("order_management_user").search({id:null,order_id:null,money:null}).replace()},2e3)):a.autoHide(e.message)}),void 0):(a.autoHide("请同意使用条款"),void 0)},e.get_total_money=function(t){return parseFloat(e.input.schedule_total)*parseFloat(t)}}]),angular.module("Uelives").controller("letterIndexController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.$on("onRepeatDone",function(){var t=$(".letter"),n=t.find("span"),r=n.height()+parseFloat(n.css("padding-top")),o=new Hammer(t[0]);o.get("pan").set({direction:Hammer.DIRECTION_ALL}),o.on("panleft panright panup pandown tap press",function(t){var n=Math.round(t.deltaY/r);e.navgation_to($(t.target),n)}),o.on("panend",function(){e.$apply(function(){e.letter_index=""})}),e.navgation_to=function(t,r){var o=n.index(t)+r;o=Math.min(o,n.length-1),o=Math.max(0,o),e.$emit("letterIndexChange",n.eq(o).text())},e.$on("letterIndexChange",function(t,n){e.$apply(function(){e.letter_index=n}),$("body").scrollTop($("[data-index="+n+"]").offset().top)})})}]),angular.module("Uelives").controller("languagesController",["$scope","$routeParams","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},o.query_language().then(function(t){e.languages=t}),e.select_language=function(r){e.input.tag=r;var o=u.get("cache");o&&t.cache_key&&(o[t.cache_key]=r,u.set("cache",o)),n.back()},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("interpreterSettledController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){a.get("token")&&n.path("information").replace(),e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){i.show(),r.get_smscode({telephone:e.input.telephone}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?o.autoHide(t.message):(e.countdown.reset=!0,o.autoHide(t.message))})},e.ajaxForm=function(){i.show(),r.signup({telephone:e.input.telephone,tel_code:e.input.code,weChat:e.input.wechat}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(o.autoHide(e.message),a.set("token",e.token),t(function(){n.path("information").replace()},2e3)):o.autoHide(e.message)})}}]),angular.module("Uelives").controller("interpreterListController",["$scope","$filter","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={all:"1",price:"0",comment:"0"},e.qualified_translators=[],e.format_time=function(e,n){return t("date")(e,n)};var c=u.get("cache");c&&(e.input=angular.extend({},e.input,c),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.qualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.load_qualified=function(){e.no_qualified||(a.show(),e.qualified_page.message="正在加载...",o.query_qualified_translator(e.qualified_page).then(function(t){a.hide(),e.qualified_page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.qualified_count=t.total_user,e.qualified_translators=e.qualified_translators.concat(t.Result.Users.list),e.no_qualified=e.qualified_translators.length==t.Result.Users.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_qualified&&e.load_unqualified(),e.qualified_page.pn++}))},e.load_qualified(),e.unqualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.unqualified_translators=[],e.load_unqualified=function(){a.show(),e.unqualified_page.message="正在加载...",o.query_unqualified_translator(e.unqualified_page).then(function(t){a.hide(),e.unqualified_page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.unqualified_count=t.total_user,e.unqualified_translators=e.unqualified_translators.concat(t.Result.Users.list),e.no_unqualified=e.unqualified_translators.length==t.Result.Users.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_unqualified,e.unqualified_page.pn++})},e.go=function(e){n.path("interpreter_detail").search({id:e,order_id:r.order_id})};var l=e.input.all,d=sort_3=0;e.sort_by_all=function(){e.input.price=d=sort_3=0,e.input.comment=d=sort_3=0,l++,e.input.all=l%3,e.reset(),e.load_qualified()},e.sort_by_price=function(){e.input.all=l=sort_3=0,e.input.comment=l=sort_3=0,d++,e.input.price=d%3,e.reset(),e.load_qualified()},e.sort_by_comment=function(){e.input.all=l=d=0,e.input.price=l=d=0,sort_3++,e.input.comment=sort_3%3,e.reset(),e.load_qualified()},e.reset=function(){e.qualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.unqualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.qualified_translators=[],e.unqualified_translators=[],e.no_qualified=!1,e.no_unqualified=!1}}]),angular.module("Uelives").controller("interpreterLevelController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.check="1",e.check=function(t){e.input.check=t}}]),angular.module("Uelives").controller("interpreterEvaluateController",["$scope","$rootScope","$timeout","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},a.show(),o.query_basicinfo({type:"2",ta_user_id:r.id}).then(function(t){a.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.user=t.Result.UserInfo:i.autoHide(t.message)
}),e.single_check=function(t,n){e.input[t]=n},e.active=function(t){e.input.star=t},e.ajaxForm=function(){a.show(),o.comment({orders_id:r.order_id,comment_star:e.input.star,note:e.input.note,service:e.input.service,profession:e.input.profession,tongue:e.input.tongue}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(i.autoHide(e.message),n(function(){t.back()},2e3)):i.autoHide(e.message)})}}]),angular.module("Uelives").controller("interpreterDetailController",["$scope","$routeParams","$filter","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},a.show(),o.query_basicinfo({type:"2",ta_user_id:t.id}).then(function(t){a.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.user=t.Result.UserInfo:i.autoHide(t.message)}),e.format_time=function(e,t){return n("date")(e,t)},e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多",user_id:t.id},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",o.query_comments(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.total_score=t.comment_star,e.comments=e.comments.concat(t.Result.Comments.list),e.no_more=e.comments.length==t.Result.Comments.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.go=function(){r.path("online_booking").search({id:t.id,order_id:t.order_id})}}]),angular.module("Uelives").controller("informationController",["$scope","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a){e.input={},o.show(),n.query_basicinfo({type:"1"}).then(function(t){o.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?e.user=t.Result.UserInfo:r.autoHide(t.message)}),e.input.flow={},e.update_avatar=function(){o.show(),n.update_avatar({fileName:e.input.flow.opts.query.filename}).then(function(e){o.hide(),e.code==a.request.SUCCESS&&e.status==a.response.SUCCESS?r.autoHide(e.message):r.autoHide(e.message)})},e.format_time=function(e,n){return t("date")(e,n)}}]),angular.module("Uelives").controller("indexController",["$scope","$filter","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},e.input.city="深圳",e.input.language={from:"中文",to:""},e.input.scenes="",e.input.schedule_from="",e.input.schedule_to="",e.input.schedule_total="",e.input.industry="",e.input.sex="不限",e.select_gender=function(t){e.input.sex=t},e.format_time=function(e,n){return t("date")(e,n)},e.cache_and_go=function(t,r){u.set("cache",e.input),n.path(t).search("cache_key",r)};var c=u.get("cache");c&&(e.input=angular.extend({},e.input,c),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.ajaxForm=function(){u.set("cache",e.input),a.show(),o.booking({city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS&&"1"==e.have_translate_user?n.path("interpreter_list").search("order_id",e.orders_id):n.path("self_booking").search("order_id",e.orders_id)})}}]),angular.module("Uelives").controller("editWorkExprienceController",["$scope","$routeParams","$filter","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c,l){e.input={},e.input.remove_id=t.id,e.input.start_time_option={placeholder:"请选择入职时间"},e.input.end_time_option={placeholder:"请选择离职时间"},c.get("cache")&&(e.input=angular.extend({},e.input,c.get("cache"))),e.query_work_experience=function(){s.show(),a.query_work_experience({user_work_experience_id:t.id}).then(function(t){s.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(e.input.start_time=t.Result.UserWorkExperience.start_time,e.input.end_time=t.Result.UserWorkExperience.end_time,e.input.work_name=t.Result.UserWorkExperience.work_name,e.input.position=t.Result.UserWorkExperience.position,e.input.duty=t.Result.UserWorkExperience.duty,e.input.working_scene=t.Result.UserWorkExperience.working_scene,c.get("cache")&&(e.input=angular.extend({},e.input,c.get("cache"))),e.input.start_time_option={value:e.input.start_time},e.input.end_time_option={value:e.input.end_time}):u.autoHide(t.message)})},e.ajaxForm=function(){return t.id?(e.update(),void 0):(e.create(),void 0)},e.create=function(){s.show(),a.create_work_experience({start_time:e.input.start_time_option.value,end_time:e.input.end_time_option.value,work_name:e.input.work_name,position:e.input.position,duty:e.input.duty,working_scene:e.input.working_scene}).then(function(e){s.hide(),c.remove("cache"),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.update=function(){s.show(),a.update_work_experience({user_work_experience_id:t.id,start_time:e.input.start_time_option.value,end_time:e.input.end_time_option.value,work_name:e.input.work_name,position:e.input.position,duty:e.input.duty,working_scene:e.input.working_scene}).then(function(e){s.hide(),c.remove("cache"),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.remove=function(){s.show(),a.remove_work_experience({user_work_experience_id:t.id}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.cache_and_go=function(t,n){c.set("cache",e.input),i.path(t).search("cache_key",n)},t.id&&e.query_work_experience()}]),angular.module("Uelives").controller("editEduExprienceController",["$scope","$routeParams","$filter","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,a,u,s,c,l){for(e.input={year:"",degree:""},e.input.remove_id=t.id,e.year=parseFloat(n("date")(new Date,"yyyy")),e.years=["至今"],i=0;50>i;i++)e.years.push(e.year+"年"),e.year--;e.degrees=["专科","本科","硕士","博士","博士后"],e.query_edu_experience=function(){s.show(),a.query_edu_experience({user_edu_experience_id:t.id}).then(function(t){s.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(e.input.year=t.Result.UserEduExperience.end_time,e.input.school_name=t.Result.UserEduExperience.school_name,e.input.degree=t.Result.UserEduExperience.education,e.input.major=t.Result.UserEduExperience.profession):u.autoHide(t.message)})},e.ajaxForm=function(){return t.id?(e.update(),void 0):(e.create(),void 0)},e.create=function(){s.show(),a.create_edu_experience({end_time:e.input.year,school_name:e.input.school_name,education:e.input.degree,profession:e.input.major}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.update=function(){s.show(),a.update_edu_experience({user_edu_experience_id:t.id,end_time:e.input.year,school_name:e.input.school_name,education:e.input.degree,profession:e.input.major}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.remove=function(){s.show(),a.remove_edu_experience({user_edu_experience_id:t.id}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},t.id&&e.query_edu_experience()}]),angular.module("Uelives").controller("editBasicInfoController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},a.show(),o.query_basicinfo({type:"1"}).then(function(t){a.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.user=t.Result.UserInfo,e.input.nickname=e.user.nickname,e.input.sex=e.user.sex,e.input.degree=e.user.edu,e.input.birthday=e.user.birthday,e.input.city=e.user.city,e.input.telephone=e.user.telephone,e.input.email=e.user.email,e.input.job_type=e.user.job_type,e.input.job_property=e.user.job_property,e.input.mother_language=e.user.mother_language,e.input.first_language=e.user.first_language,e.input.first_language_level=e.user.first_language_level,e.input.second_language=e.user.second_language,e.input.second_language_level=e.user.second_language_level,e.input.good_at=e.user.good_field,e.input.translate_year=e.user.translate_year||"",e.input.translate_level=e.user.translate_level,e.input.pay_day=e.user.pay_day||"",e.input.options={value:e.user.birthday},u.get("cache")&&(e.input=angular.extend({},e.input,u.get("cache")))):i.autoHide(t.message)}),e.degrees=["大专","本科","硕士","博士"],e.single_check=function(t,n){e.input[t]=n},e.cache_and_go=function(t,n){u.set("cache",e.input),r.path(t).search("cache_key",n)},e.input.flow={},e.update_avatar=function(){a.show(),o.update_avatar({fileName:e.input.flow.opts.query.filename}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?i.autoHide(e.message):i.autoHide(e.message)})},e.ajaxForm=function(){a.show(),o.update_userinfo({fileName:e.user.image_01,nickname:e.input.nickname,sex:e.input.sex,edu:e.input.degree,birthday:e.input.options.value,city:e.input.city,email:e.input.email,job_type:e.input.job_type,job_property:e.input.job_property,mother_language:e.input.mother_language,first_language:e.input.first_language,first_language_level:e.input.first_language_level,second_language:e.input.second_language,second_language_level:e.input.second_language_level,good_field:e.input.good_at,translate_year:e.input.translate_year,translate_level:e.input.translate_level,pay_day:e.input.pay_day}).then(function(e){a.hide(),u.remove("cache"),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(i.autoHide(e.message),n(function(){t.back()},2e3)):i.autoHide(e.message)})}}]),angular.module("Uelives").controller("choiceTimeController",["$scope","$rootScope","$routeParams","$timeout","$route","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){var l=s.get("cache");e.input={},u.show(),i.query_schedule({user_id:n.id||"0"}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.schedules=t.calendarBeans,e.schedule_init()):a.autoHide(t.message)}),e.schedule_init=function(){angular.forEach(e.schedules,function(e){angular.forEach(e.scheduleBeans,function(e){l[n.cache_key]&&l[n.cache_key].includes(e.schedule_date)&&(e.schedule_state=4)})})},e.parse_time=function(e){return e.schedule_date.split("-")[2]},e.append_class=function(e,t){return 0==t?"margin-left-"+e.week:void 0},e.active=function(e){return e.schedule_state<3?void 0:3==e.schedule_state?e.schedule_state=4:4==e.schedule_state?e.schedule_state=3:void 0},e.confirm_time=function(){var r=[];return angular.forEach(e.schedules,function(e){r=r.concat(e.scheduleBeans)}),r=r.filter(function(e){return 4==e.schedule_state}).map(function(e){return e.schedule_date}),0==r.length?(a.autoHide("请选择时间"),void 0):(l&&n.cache_key&&(l[n.cache_key]=r,s.set("cache",l)),t.back(),void 0)}}]),angular.module("Uelives").controller("choiceLanguageController",["$scope","$rootScope","$timeout","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},e.input.language={from:"中文",to:""};var s=u.get("cache");s&&s[r.cache_key]&&(e.input.language=s[r.cache_key]),e.input.choice="0",o.query_language().then(function(t){e.languages=t}),e.query_language=function(t){e.input.choice=t},e.select_language=function(n){e.input.tag=n,"0"==e.input.choice&&(e.input.language.to=n),"1"==e.input.choice&&(e.input.language.from=n,e.input.choice="0"),e.input.language.from&&e.input.language.to&&(s[r.cache_key]=e.input.language,u.set("cache",s),t.back())},e.query_inter_language=function(t){o.query_language().then(function(t){e.languages=t}),e.input.choice=t},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("choiceCityController",["$scope","$routeParams","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},e.input.tag=u.get("city")||"",e.input.choice="1",e.select_city=function(r){e.input.tag=r;var o=u.get("cache");o&&t.cache_key&&(o[t.cache_key]=r,u.set("cache",o)),n.back()},o.query_city().then(function(t){e.cities=t}),e.query_city=function(t){o.query_city().then(function(t){e.cities=t}),e.input.choice=t},e.query_inter_city=function(t){o.query_inter_city().then(function(t){e.cities=t}),e.input.choice=t},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("certificateController",["$scope","$routeParams","$filter","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c,l){e.input={},e.input.remove_id=t.id,e.input.time_option={placeholder:"请选择入职时间"},e.query_cert_experience=function(){s.show(),a.query_cert_experience({user_identity_id:t.id}).then(function(t){s.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(e.input.get_time=t.Result.UserIdentity.get_time,e.input.title=t.Result.UserIdentity.title,e.input.image_01=t.Result.UserIdentity.image_01,e.input.time_option={value:e.input.get_time}):u.autoHide(t.message)})},e.ajaxForm=function(){return t.id?(e.update(),void 0):(e.create(),void 0)},e.input.flow={},e.create=function(){s.show(),a.create_cert_experience({fileName:e.input.flow.opts.query.filename,title:e.input.title,get_time:e.input.time_option.value}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.update=function(){e.input.image_01=e.input.flow.opts.query.filename||e.input.image_01,s.show(),a.update_cert_experience({user_identity_id:t.id,fileName:e.input.image_01,title:e.input.title,get_time:e.input.time_option.value}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.remove=function(){s.show(),a.remove_cert_experience({user_identity_id:t.id}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},t.id&&e.query_cert_experience()}]),angular.module("Uelives").controller("bookingDateController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").constant("config",{url:"http://192.168.1.143:8080",imageUrl:"http://192.168.1.143:8080/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5",app_sign:"123456"},interceptor:["index","booking_date","choice_city","choice_language","choice_time","edit_basic_info","edit_edu_exprience","edit_work_exprience","interpreter_detail","interpreter_level","interpreter_list","interpreter_evaluate","interpreter_settled","online_booking","online_preview","schedule","schedule_preview","order_management_interpreter","order_management_user","order","order_cancel","order_confirm","order_finish","order_wait","languages","related_industry","self_booking","information","scenes","certificate","preview_comment"]});
=======
angular.module("Uelives",["ngRoute","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,t,n,r,o){angular.forEach(o.interceptor,function(t){var n=t.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});n+="Controller",e.when("/"+t,{templateUrl:"templates/"+t+".html",reloadOnSearch:!1,controller:n,resolve:{user:["$q","$location","localStorageService",function(e,n,r){var o=["account"],i=e.defer();return o.includes(t)&&!r.get("token")?(i.reject(),n.path("/signin").replace(),void 0):(i.resolve(),i.promise)}]}})}),e.otherwise("/index"),t.defaults.useXDomain=!0,t.defaults.withCredentials=!0,delete t.defaults.headers.common["X-Requested-With"],r.setStorageCookie(.02),t.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Uelives").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,n,r,o){return{rsa_key:n._get(angular.extend({},o.common_params,{url:"key/private_key.pem"})),signin:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),signup:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/RegistTelOne"})),forget:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),reset:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),get_smscode:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/GetCode"})),query_basicinfo:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/userInfo",token:r.get("token")})),update_avatar:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateBgImg",token:r.get("token")})),update_userinfo:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateUserInfo",token:r.get("token")})),realname_authen:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),phone_authen:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),like:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),unlike:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_messages:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_message_by_id:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_city:n._get(angular.extend({},o.common_params,{url:"city/city_with_index.json",token:r.get("token")})),query_inter_city:n._get(angular.extend({},o.common_params,{url:"city/inter_city_with_index.json",token:r.get("token")})),query_language:n._get(angular.extend({},o.common_params,{url:"city/language.json",token:r.get("token")})),query_industries:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/translateFieldList"})),create_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/addUserEduExps",token:r.get("token")})),query_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/userEduExperienceInfo",token:r.get("token")})),update_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/editUserEduExps",token:r.get("token")})),remove_edu_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserEduExps/deleteUserEduExps",token:r.get("token")})),create_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/addUserWorkExps",token:r.get("token")})),query_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/userUserWorkExpInfo",token:r.get("token")})),update_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/editUserWorkExps",token:r.get("token")})),remove_work_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserWorkExps/deleteUserWorkExps",token:r.get("token")})),create_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/addUserIdentity",token:r.get("token")})),query_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/userIdentityInfo",token:r.get("token")})),update_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/editUserIdentity",token:r.get("token")})),remove_cert_experience:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserIdentitys/deleteUserIdentity",token:r.get("token")})),query_scenes:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/translateSceneList",token:r.get("token")})),query_schedule:n._get(angular.extend({},o.common_params,{url:o.url+"/app/ScheduleManage/scheduleList",token:r.get("token")})),mark_schedule:n._get(angular.extend({},o.common_params,{url:o.url+"/app/ScheduleManage/setTranslateTime",token:r.get("token")})),booking:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/makeOrder"})),query_qualified_translator:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/fullCompletelyUserList"})),query_unqualified_translator:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Home/maybeUserList"})),query_comments:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Comments/myCommentList"})),comment:n._get(angular.extend({},o.common_params,{url:o.url+"/app/Comments/comment"})),query_comment_by_order:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/commentDetail"})),online_booking:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/submitOrder"})),query_orders:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/myOrderList"})),query_order:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/orderDetail"})),mark:n._get(angular.extend({},o.common_params,{url:o.url+"/app/OrdersManage/setOrderType"}))}}]),angular.module("Uelives").factory("uelivesServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,n,r,o){return{rsa_key:n._get(angular.extend({},o.common_params,{url:"key/private_key.pem"}))}}]),angular.module("Uelives").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,t,n,r,o){return{request:function(e){return e},requestError:function(){},response:function(r){var i=t.defer();return r.config.url.indexOf(".html")>0?r:r.data.code==o.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),n.remove("token"),e.path("/interpreter_settled").replace(),i.promise):r},responseError:function(e){var n=t.defer();return r.requestError(e.data,e.status,e.headers,e.config),n.promise}}}]),angular.module("Uelives").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Uelives").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,t,n){return{show:function(t){e.error_msg=t,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(n){e.error_msg=n,$(".error-msg").show(),t(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,t,r,o){switch(n.hide(),t){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(t),console.log(e),console.log(r),console.log(o),console.log("onRequestError end")}}}]),angular.module("Uelives").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices","config",function(e,t,n,r,o,i){var a=function(){},u=function(e,t,n){o.hide(),r.hide(),c(e,t,n)},s=function(){},c=function(){};return{init:function(){e.$on("$routeChangeStart",a),e.$on("$routeChangeSuccess",u),e.$on("$routeChangeError",s),e.go=function(e){n.path(e)},e.back=function(){t.history.back()},e.staticImageUrl=i.imageUrl}}}]),angular.module("Uelives").factory("apiServices",["$http","localStorageService",function(e,t){return{_get:function(n){return function(r){return void 0!==n.token&&(n.token=t.get("token")),e({url:n.url,method:"GET",params:angular.extend({},n,r)}).then(function(e){return e.data})}},_post:function(n){return function(r){return void 0!==n.token&&(n.token=t.get("token")),e({url:n.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},data:angular.extend({},n,r)}).then(function(e){return e.data})}}}}]),angular.module("Uelives").directive("uploader",["$timeout","localStorageService","toastServices","errorServices","config",function(e,t,n,r,o){return{restrict:"E",template:function(e,t){var n="",r=t.rate;return n="<imageview center-only data-rate='"+r+"' src='src'></imageview>"},controller:["$scope","$element","$attrs",function(e,r,i){var a,u;e.$on("flow::filesSubmitted",function(e,r){r.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return u=e,e}),a=(new Date).getTime()+u,r.opts.target=o.url+"/app/UserCenter/updatePic",r.opts.testChunks=!1,r.opts.fileParameterName="image_01",r.opts.query={invoke:"h5",token:t.get("token"),filename:a},n.show(),r.upload()}),e.$on("flow::fileAdded",function(){}),e.src="../images/default.png",i.default&&(e.src=i.default),i.$observe("src",function(t){t&&(e.src=o.imageUrl+t)}),e.$on("flow::fileSuccess",function(){e.src=o.imageUrl+a,n.hide()})}],link:function(){}}}]),angular.module("Uelives").directive("showOnLoaded",function(){return{link:function(e,t){$(t).css({visibility:"hidden"}),t.bind("load",function(){console.log("loaded");var n=parseFloat(e.$eval($(t).parent().attr("data-rate")));if(!n)return console.log("unexpect rate"),void 0;var r=$(t).width()/$(t).height();n>r?$(t).css({height:"100%",width:"auto"}):$(t).css({height:"auto",width:"100%"}),$(t).parent().css({background:"none"}),$(t).css({visibility:"visible"})})}}}),angular.module("Uelives").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,t){e.$last&&e.$emit("onRepeatDone",t)}}}),angular.module("Uelives").directive("onload",function(){return{restrict:"A",link:function(e,t){$(t).css({opacity:0}),$(t).bind("load",function(){$(t).css({opacity:1})})}}}),angular.module("Uelives").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' placeholder='{{options.placeholder}}' class='full-width' readonly ng-model='options.value'>",link:function(t,n){var r={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){t.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(n).find("input").datePicker(angular.extend({},r,t.options))},0)}}}]),angular.module("Uelives").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"="},controller:["$scope","$element","$attrs",function(t,n,r){function o(e){$(e.target).css({width:"auto",height:"auto"});var n=$(e.target),r=n.width(),o=n.height(),i=parseFloat(r)/parseFloat(o);i<t.rate?(r=t.width,o=t.width/i,n.css({display:"inline-block",height:o,width:r,"margin-top":-(o-t.height)/2})):(o=t.height,r=o*i,n.css({display:"inline-block",height:o,width:r,"margin-left":-(r-t.width)/2})),n.parent().css({background:"none"}),n.css({visibility:"visible"})}function i(e){var n=$(e.target),r=n.width(),o=n.height(),i=parseFloat(r)/parseFloat(o);i<t.rate?n.css({display:"inline-block",height:"100%",width:"auto"}):n.css({display:"inline-block",height:"auto",width:"100%"}),n.parent().css({background:"none"}),n.css({visibility:"visible"})}return t.bg_image="../images/default.png",t.rate=parseFloat(r.rate),t.width=n.parent().width()||$(window).width(),t.height=t.width/t.rate,t.rate?(this.show_center_on_loaded=function(t){o(t),e(function(){o(t)},100)},this.show_on_loaded=function(t){i(t),e(function(){i(t)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var t="<img ng-src='{{src}}' show-center-on-loaded err-src='../images/default.png'>";return void 0==$(e).attr("center-only")&&(t="<img ng-src='{{src}}' show-on-loaded err-src='../images/default.png'>"),t},link:function(e,t){var n={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.bg_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(t).css(n)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,n,r){t.bind("load",r.show_on_loaded)}}}).directive("showCenterOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,n,r){t.bind("load",r.show_center_on_loaded)}}}),angular.module("Uelives").directive("dribehanceHeader",function(){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(){}}}),angular.module("Uelives").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Uelives").directive("errSrc",function(){return{restrict:"A",link:function(e,t,n){$(t).bind("error",function(){$(t).attr("src",n.errSrc)})}}}),angular.module("Uelives").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(t,n){function r(){var n=t.countdown.message,r=parseFloat(t.countdown.count)?parseFloat(t.countdown.count):60;o=!0,t.$apply(function(){t.countdown.message=r--,t.countdown.message=r+"s重新获取",t.countdown.mode="disabled",t.countdown.reset=!1,t.countdown.callback()});var i=e(function(){t.countdown.message=r--,t.countdown.message=r+"s重新获取",(0>r||t.countdown.reset)&&(e.cancel(i),t.countdown.message=n,o=!1)},1e3)}var o=!1;$(n).bind("click",function(){t.disabled||o||r()})}}}]),angular.module("Uelives").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,t){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(t).show()},cancel:function(){$(t).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(t).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("Uelives").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,t){var n={autoplay:!0,items:1};n=angular.extend({},n,e.$eval($(t).attr("data-options")));var r=parseFloat(e.$eval($(t).attr("data-rate"))),o={display:"block",width:$(t).parent().width()||$(window).width(),height:($(t).parent().width()||$(window).width())/r};$(t).css(o),e.$on("onRepeatDone",function(){$(t).find(".carousel-holder").owlCarousel(n)})}}}),angular.module("Uelives").controller("selfBookingController",["$scope","$filter","$location","$routeParams","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){e.input={},e.input.sex=1,e.select_gender=function(t){e.input.sex=t},e.agree=!1,e.is_agree=function(){e.agree=!e.agree},e.countdown={message:"获取验证码"},e.countdown.callback=function(){u.show(),i.get_smscode({telephone:e.input.telephone}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?a.autoHide(t.message):(e.countdown.reset=!0,a.autoHide(t.message))})},e.format_time=function(e,n){return t("date")(e,n)},e.cache_and_go=function(t,r){s.set("cache",e.input),n.path(t).search("cache_key",r)};var l=s.get("cache");l&&(e.input=angular.extend({},e.input,l),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.ajaxForm=function(){u.show(),i.online_booking({type:3,orders_id:r.order_id,translate_user_id:r.id,work_content:e.input.work_content,other_require:e.input.other_require,order_name:e.input.nickname,order_company:e.input.company,order_telephone:e.input.telephone,order_wechat:e.input.wechat,money:e.input.money,msg_code:e.input.smscode}).then(function(e){u.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),o(function(){n.path("order_management_user").search({id:null,order_id:null,money:null}).replace()},2e3)):a.autoHide(e.message)})}}]),angular.module("Uelives").controller("schedulePreviewController",["$scope","$rootScope","$routeParams","$timeout","$route","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){e.input={},u.show(),i.query_schedule({user_id:n.id||"0"}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.schedules=t.calendarBeans:a.autoHide(t.message)}),e.append_class=function(e,t){return 0==t?"margin-left-"+e.week:void 0},e.parse_time=function(e){return e.schedule_date.split("-")[2]}}]),angular.module("Uelives").controller("scheduleController",["$scope","$rootScope","$routeParams","$timeout","$route","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){s.get("cache");e.input={},u.show(),i.query_schedule({user_id:n.id||"0"}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.schedules=t.calendarBeans:a.autoHide(t.message)}),e.parse_time=function(e){return e.schedule_date.split("-")[2]},e.append_class=function(e,t){return 0==t?"margin-left-"+e.week:void 0},e.active=function(t){e.input.day=t},e.mark_schedule=function(t){u.show(),i.mark_schedule({type:t,choice_currentdates:e.input.day.schedule_date}).then(function(e){u.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),r(function(){o.reload()},2e3)):a.autoHide(e.message)})}}]),angular.module("Uelives").controller("scenesController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},e.select_scene=function(e){e.select=!e.select},i.show(),r.query_scenes().then(function(t){var r=a.get("cache");i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.scenes=t.Result.TranslateScenes,e.scenes.map(function(e){return r&&r[n.cache_key]&&-1!=r[n.cache_key].indexOf(e.name)&&(e.select=!0),e})):o.autoHide(t.message)}),e.save=function(){var r=e.scenes.filter(function(e){return e.select}).map(function(e){return e.name});if(0==r.length)return o.autoHide("请选择擅长领域"),void 0;if(r.length>2)return o.autoHide("最多只能选择两个"),void 0;var i=a.get("cache");i&&n.cache_key&&(i[n.cache_key]=r.join("#"),a.set("cache",i)),t.back()}}]),angular.module("Uelives").controller("relatedIndustryController",["$scope","$routeParams","$rootScope","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,n,r,o,i,a,u){e.input={},e.select=function(e){e.select=!e.select},i.show(),r.query_industries().then(function(n){var r=a.get("cache");i.hide(),n.code==u.request.SUCCESS&&n.status==u.response.SUCCESS?(e.industries=n.Result.TranslateFields,e.industries.map(function(e){return r&&r[t.cache_key]&&-1!=r[t.cache_key].indexOf(e.name)&&(e.select=!0),e})):o.autoHide(n.message)}),e.save=function(){var r=e.industries.filter(function(e){return e.select}).map(function(e){return e.name});if(0==r.length)return o.autoHide("请选择擅长领域"),void 0;var i=a.get("cache");i&&t.cache_key&&(i[t.cache_key]=r.join("#"),a.set("cache",i)),n.back()}}]),angular.module("Uelives").controller("previewCommentController",["$scope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a){o.show(),n.query_comment_by_order({orders_id:t.id}).then(function(t){o.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?e.comment=t.Result.Comment:r.autoHide(t.message)})}]),angular.module("Uelives").controller("orderWaitController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderManagementUserController",["$scope","$route","$timeout","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={type:"3",status:"wait"},e.orders=[],e.page={pn:1,page_size:10,message:"点击加载更多",uid:"oqEj-vsfYWEE4l4rWAR7lxyJgOLI",order_type:e.input.type},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",o.query_orders(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.orders=e.orders.concat(t.Result.OrderList.list),e.no_more=e.orders.length==t.Result.OrderList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.orders.length+"条数据"),e.page.pn++}))},e.loadMore(),e.active_tab=function(t){e.input.type=t,e.page={pn:1,page_size:10,message:"点击加载更多",uid:"oqEj-vsfYWEE4l4rWAR7lxyJgOLI",order_type:e.input.type},e.orders=[],e.no_more=!1,e.loadMore()},e.format_time=function(e,t){return r("date")(e,t)},e.parse_time=function(t){return t.split("#").map(function(t){return e.format_time(t,"yyyy.MM.dd")}).join("-")},e.mark=function(r,u){var c=["","接受","拒绝","收款"];e.confirm.content=c[r],e.confirm.open(),e.confirm.cancle_callback=function(){},e.confirm.ok_callback=function(){a.show(),o.mark({orders_id:u.orders_id,transaction_id:u.transaction_id,type:r}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(i.autoHide(e.message),n(function(){t.reload()},2e3)):i.autoHide(e.message)})}}}]),angular.module("Uelives").controller("orderManagementInterpreterController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderFinishControllerController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderController",["$scope","$routeParams","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){i.show(),r.query_order({orders_id:t.id}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.order=t.Result.Orders,e.order.schedule_from=e.format_time(e.order.order_time.split("#")[0],"MM-dd"),e.order.schedule_to=e.format_time(e.order.order_time.split("#")[e.order.order_time.split("#").length-1],"MM-dd")):o.autoHide(t.message)}),e.format_time=function(e,t){return n("date")(e,t)},e.parse_time=function(t){return t.split("#").map(function(t){return e.format_time(t,"yyyy.MM.dd")}).join("-")}}]),angular.module("Uelives").controller("orderConfirmController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderCancelController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("onlinePreviewController",["$scope","$routeParams","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},i.show(),r.query_basicinfo({type:"2",ta_user_id:t.id}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.user=t.Result.UserInfo:o.autoHide(t.message)}),e.format_time=function(e,t){return n("date")(e,t)}}]),angular.module("Uelives").controller("onlineBookingController",["$scope","$filter","$location","$routeParams","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){e.input={},e.input.sex=1,e.select_gender=function(t){e.input.sex=t},e.check=function(t){e.input.check=t},e.agree=!1,e.is_agree=function(){e.agree=!e.agree},e.countdown={message:"获取验证码"},e.countdown.callback=function(){u.show(),i.get_smscode({telephone:e.input.telephone}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?a.autoHide(t.message):(e.countdown.reset=!0,a.autoHide(t.message))})},u.show(),i.query_basicinfo({type:"2",ta_user_id:r.id}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.user=t.Result.UserInfo:a.autoHide(t.message)}),e.format_time=function(e,n){return t("date")(e,n)},e.cache_and_go=function(t,r){s.set("cache",e.input),n.path(t).search("cache_key",r)};var l=s.get("cache");l&&(e.input=angular.extend({},e.input,l),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.ajaxForm=function(){return e.agree?(u.show(),i.online_booking({type:e.input.check,orders_id:r.order_id,translate_user_id:r.id,work_content:e.input.work_content,other_require:e.input.other_require,order_name:e.input.nickname,order_company:e.input.company,order_telephone:e.input.telephone,order_wechat:e.input.wechat,money:e.get_total_money(e.user.pay_day),msg_code:e.input.smscode}).then(function(e){u.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),o(function(){n.path("order_management_user").search({id:null,order_id:null,money:null}).replace()},2e3)):a.autoHide(e.message)}),void 0):(a.autoHide("请同意使用条款"),void 0)},e.get_total_money=function(t){return parseFloat(e.input.schedule_total)*parseFloat(t)}}]),angular.module("Uelives").controller("letterIndexController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.$on("onRepeatDone",function(){var t=$(".letter"),n=t.find("span"),r=n.height()+parseFloat(n.css("padding-top")),o=new Hammer(t[0]);o.get("pan").set({direction:Hammer.DIRECTION_ALL}),o.on("panleft panright panup pandown tap press",function(t){var n=Math.round(t.deltaY/r);e.navgation_to($(t.target),n)}),o.on("panend",function(){e.$apply(function(){e.letter_index=""})}),e.navgation_to=function(t,r){var o=n.index(t)+r;o=Math.min(o,n.length-1),o=Math.max(0,o),e.$emit("letterIndexChange",n.eq(o).text())},e.$on("letterIndexChange",function(t,n){e.$apply(function(){e.letter_index=n}),$("body").scrollTop($("[data-index="+n+"]").offset().top)})})}]),angular.module("Uelives").controller("languagesController",["$scope","$routeParams","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},o.query_language().then(function(t){e.languages=t}),e.select_language=function(r){e.input.tag=r;var o=u.get("cache");o&&t.cache_key&&(o[t.cache_key]=r,u.set("cache",o)),n.back()},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("interpreterSettledController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){a.get("token")&&n.path("information").replace(),e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){i.show(),r.get_smscode({telephone:e.input.telephone}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?o.autoHide(t.message):(e.countdown.reset=!0,o.autoHide(t.message))})},e.ajaxForm=function(){i.show(),r.signup({telephone:e.input.telephone,tel_code:e.input.code,weChat:e.input.wechat}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(o.autoHide(e.message),a.set("token",e.token),t(function(){n.path("information").replace()},2e3)):o.autoHide(e.message)})}}]),angular.module("Uelives").controller("interpreterListController",["$scope","$filter","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={all:"1",price:"0",comment:"0"},e.qualified_translators=[],e.format_time=function(e,n){return t("date")(e,n)};var c=u.get("cache");c&&(e.input=angular.extend({},e.input,c),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.qualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.load_qualified=function(){e.no_qualified||(a.show(),e.qualified_page.message="正在加载...",o.query_qualified_translator(e.qualified_page).then(function(t){a.hide(),e.qualified_page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.qualified_count=t.total_user,e.qualified_translators=e.qualified_translators.concat(t.Result.Users.list),e.no_qualified=e.qualified_translators.length==t.Result.Users.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_qualified&&e.load_unqualified(),e.qualified_page.pn++}))},e.load_qualified(),e.unqualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.unqualified_translators=[],e.load_unqualified=function(){a.show(),e.unqualified_page.message="正在加载...",o.query_unqualified_translator(e.unqualified_page).then(function(t){a.hide(),e.unqualified_page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.unqualified_count=t.total_user,e.unqualified_translators=e.unqualified_translators.concat(t.Result.Users.list),e.no_unqualified=e.unqualified_translators.length==t.Result.Users.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_unqualified,e.unqualified_page.pn++})},e.go=function(e){n.path("interpreter_detail").search({id:e,order_id:r.order_id})};var l=e.input.all,d=sort_3=0;e.sort_by_all=function(){e.input.price=d=sort_3=0,e.input.comment=d=sort_3=0,l++,e.input.all=l%3,e.reset(),e.load_qualified()},e.sort_by_price=function(){e.input.all=l=sort_3=0,e.input.comment=l=sort_3=0,d++,e.input.price=d%3,e.reset(),e.load_qualified()},e.sort_by_comment=function(){e.input.all=l=d=0,e.input.price=l=d=0,sort_3++,e.input.comment=sort_3%3,e.reset(),e.load_qualified()},e.reset=function(){e.qualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.unqualified_page={pn:1,page_size:10,message:"点击加载更多",city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex,pay_day:e.input.price,total_score:e.input.comment,multiple_order:e.input.all},e.qualified_translators=[],e.unqualified_translators=[],e.qualified_count=0,e.unqualified_count=0,e.no_qualified=!1,e.no_unqualified=!1}}]),angular.module("Uelives").controller("interpreterLevelController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.check="1",e.check=function(t){e.input.check=t
}}]),angular.module("Uelives").controller("interpreterEvaluateController",["$scope","$rootScope","$timeout","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},a.show(),o.query_basicinfo({type:"2",ta_user_id:r.id}).then(function(t){a.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.user=t.Result.UserInfo:i.autoHide(t.message)}),e.single_check=function(t,n){e.input[t]=n},e.active=function(t){e.input.star=t},e.ajaxForm=function(){a.show(),o.comment({orders_id:r.order_id,comment_star:e.input.star,note:e.input.note,service:e.input.service,profession:e.input.profession,tongue:e.input.tongue}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(i.autoHide(e.message),n(function(){t.back()},2e3)):i.autoHide(e.message)})}}]),angular.module("Uelives").controller("interpreterDetailController",["$scope","$routeParams","$filter","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},a.show(),o.query_basicinfo({type:"2",ta_user_id:t.id}).then(function(t){a.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.user=t.Result.UserInfo:i.autoHide(t.message)}),e.format_time=function(e,t){return n("date")(e,t)},e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多",user_id:t.id},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",o.query_comments(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.total_score=t.comment_star,e.comments=e.comments.concat(t.Result.Comments.list),e.no_more=e.comments.length==t.Result.Comments.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.go=function(){r.path("online_booking").search({id:t.id,order_id:t.order_id})},e.cache_and_go=function(t,n){u.set("cache",angular.extend({},u.get("cache")),e.input),r.path(t).search("cache_key",n)}}]),angular.module("Uelives").controller("informationController",["$scope","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a){e.input={},o.show(),n.query_basicinfo({type:"1"}).then(function(t){o.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?e.user=t.Result.UserInfo:r.autoHide(t.message)}),e.input.flow={},e.update_avatar=function(){o.show(),n.update_avatar({fileName:e.input.flow.opts.query.filename}).then(function(e){o.hide(),e.code==a.request.SUCCESS&&e.status==a.response.SUCCESS?r.autoHide(e.message):r.autoHide(e.message)})},e.format_time=function(e,n){return t("date")(e,n)}}]),angular.module("Uelives").controller("indexController",["$scope","$filter","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},e.input.city="深圳",e.input.language={from:"中文",to:""},e.input.scenes="",e.input.schedule_from="",e.input.schedule_to="",e.input.schedule_total="",e.input.industry="",e.input.sex="不限",e.select_gender=function(t){e.input.sex=t},e.format_time=function(e,n){return t("date")(e,n)},e.cache_and_go=function(t,r){u.set("cache",e.input),n.path(t).search("cache_key",r)};var c=u.get("cache");c&&(e.input=angular.extend({},e.input,c),e.input.choice_time&&(e.input.schedule_from=e.format_time(e.input.choice_time[0],"MM-dd")),e.input.choice_time&&(e.input.schedule_to=e.format_time(e.input.choice_time[e.input.choice_time.length-1],"MM-dd")),e.input.choice_time&&(e.input.schedule_total=e.input.choice_time.length)),e.ajaxForm=function(){u.set("cache",e.input),a.show(),o.booking({city:e.input.city,from_language:e.input.language.from,to_language:e.input.language.to,translate_scene:e.input.scenes,order_time:e.input.choice_time.join("#"),translate_day:e.input.schedule_total,translate_field:e.input.industry,sex:e.input.sex}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS&&"1"==e.have_translate_user?n.path("interpreter_list").search("order_id",e.orders_id):n.path("self_booking").search("order_id",e.orders_id)})}}]),angular.module("Uelives").controller("editWorkExprienceController",["$scope","$routeParams","$filter","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c,l){e.input={},e.input.remove_id=t.id,e.input.start_time_option={placeholder:"请选择入职时间"},e.input.end_time_option={placeholder:"请选择离职时间"},c.get("cache")&&(e.input=angular.extend({},e.input,c.get("cache"))),e.query_work_experience=function(){s.show(),a.query_work_experience({user_work_experience_id:t.id}).then(function(t){s.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(e.input.start_time=t.Result.UserWorkExperience.start_time,e.input.end_time=t.Result.UserWorkExperience.end_time,e.input.work_name=t.Result.UserWorkExperience.work_name,e.input.position=t.Result.UserWorkExperience.position,e.input.duty=t.Result.UserWorkExperience.duty,e.input.working_scene=t.Result.UserWorkExperience.working_scene,c.get("cache")&&(e.input=angular.extend({},e.input,c.get("cache"))),e.input.start_time_option={value:e.input.start_time},e.input.end_time_option={value:e.input.end_time}):u.autoHide(t.message)})},e.ajaxForm=function(){return t.id?(e.update(),void 0):(e.create(),void 0)},e.create=function(){s.show(),a.create_work_experience({start_time:e.input.start_time_option.value,end_time:e.input.end_time_option.value,work_name:e.input.work_name,position:e.input.position,duty:e.input.duty,working_scene:e.input.working_scene}).then(function(e){s.hide(),c.remove("cache"),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.update=function(){s.show(),a.update_work_experience({user_work_experience_id:t.id,start_time:e.input.start_time_option.value,end_time:e.input.end_time_option.value,work_name:e.input.work_name,position:e.input.position,duty:e.input.duty,working_scene:e.input.working_scene}).then(function(e){s.hide(),c.remove("cache"),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.remove=function(){s.show(),a.remove_work_experience({user_work_experience_id:t.id}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.cache_and_go=function(t,n){c.set("cache",e.input),i.path(t).search("cache_key",n)},t.id&&e.query_work_experience()}]),angular.module("Uelives").controller("editEduExprienceController",["$scope","$routeParams","$filter","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,a,u,s,c,l){for(e.input={year:"",degree:""},e.input.remove_id=t.id,e.year=parseFloat(n("date")(new Date,"yyyy")),e.years=["至今"],i=0;50>i;i++)e.years.push(e.year+"年"),e.year--;e.degrees=["专科","本科","硕士","博士","博士后"],e.query_edu_experience=function(){s.show(),a.query_edu_experience({user_edu_experience_id:t.id}).then(function(t){s.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(e.input.year=t.Result.UserEduExperience.end_time,e.input.school_name=t.Result.UserEduExperience.school_name,e.input.degree=t.Result.UserEduExperience.education,e.input.major=t.Result.UserEduExperience.profession):u.autoHide(t.message)})},e.ajaxForm=function(){return t.id?(e.update(),void 0):(e.create(),void 0)},e.create=function(){s.show(),a.create_edu_experience({end_time:e.input.year,school_name:e.input.school_name,education:e.input.degree,profession:e.input.major}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.update=function(){s.show(),a.update_edu_experience({user_edu_experience_id:t.id,end_time:e.input.year,school_name:e.input.school_name,education:e.input.degree,profession:e.input.major}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.remove=function(){s.show(),a.remove_edu_experience({user_edu_experience_id:t.id}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},t.id&&e.query_edu_experience()}]),angular.module("Uelives").controller("editBasicInfoController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s){e.input={},a.show(),o.query_basicinfo({type:"1"}).then(function(t){a.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.user=t.Result.UserInfo,e.input.nickname=e.user.nickname,e.input.sex=e.user.sex,e.input.degree=e.user.edu,e.input.birthday=e.user.birthday,e.input.city=e.user.city,e.input.telephone=e.user.telephone,e.input.email=e.user.email,e.input.job_type=e.user.job_type,e.input.job_property=e.user.job_property,e.input.mother_language=e.user.mother_language,e.input.first_language=e.user.first_language,e.input.first_language_level=e.user.first_language_level,e.input.second_language=e.user.second_language,e.input.second_language_level=e.user.second_language_level,e.input.good_at=e.user.good_field,e.input.translate_year=e.user.translate_year||"",e.input.translate_level=e.user.translate_level,e.input.pay_day=e.user.pay_day||"",e.input.options={value:e.user.birthday},u.get("cache")&&(e.input=angular.extend({},e.input,u.get("cache")))):i.autoHide(t.message)}),e.degrees=["大专","本科","硕士","博士"],e.single_check=function(t,n){e.input[t]=n},e.cache_and_go=function(t,n){u.set("cache",e.input),r.path(t).search("cache_key",n)},e.input.flow={},e.update_avatar=function(){a.show(),o.update_avatar({fileName:e.input.flow.opts.query.filename}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?i.autoHide(e.message):i.autoHide(e.message)})},e.ajaxForm=function(){a.show(),o.update_userinfo({fileName:e.user.image_01,nickname:e.input.nickname,sex:e.input.sex,edu:e.input.degree,birthday:e.input.options.value,city:e.input.city,email:e.input.email,job_type:e.input.job_type,job_property:e.input.job_property,mother_language:e.input.mother_language,first_language:e.input.first_language,first_language_level:e.input.first_language_level,second_language:e.input.second_language,second_language_level:e.input.second_language_level,good_field:e.input.good_at,translate_year:e.input.translate_year,translate_level:e.input.translate_level,pay_day:e.input.pay_day}).then(function(e){a.hide(),u.remove("cache"),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(i.autoHide(e.message),n(function(){t.back()},2e3)):i.autoHide(e.message)})}}]),angular.module("Uelives").controller("choiceTimeController",["$scope","$rootScope","$routeParams","$timeout","$route","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c){var l=s.get("cache");e.input={},u.show(),i.query_schedule({user_id:n.id||"0"}).then(function(t){u.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.schedules=t.calendarBeans,e.schedule_init()):a.autoHide(t.message)}),e.schedule_init=function(){angular.forEach(e.schedules,function(e){angular.forEach(e.scheduleBeans,function(e){l[n.cache_key]&&l[n.cache_key].includes(e.schedule_date)&&(e.schedule_state=4)})})},e.parse_time=function(e){return e.schedule_date.split("-")[2]},e.append_class=function(e,t){return 0==t?"margin-left-"+e.week:void 0},e.active=function(e){return e.schedule_state<3?void 0:3==e.schedule_state?e.schedule_state=4:4==e.schedule_state?e.schedule_state=3:void 0},e.confirm_time=function(){var r=[];return angular.forEach(e.schedules,function(e){r=r.concat(e.scheduleBeans)}),r=r.filter(function(e){return 4==e.schedule_state}).map(function(e){return e.schedule_date}),0==r.length?(a.autoHide("请选择时间"),void 0):(l&&n.cache_key&&(l[n.cache_key]=r,s.set("cache",l)),t.back(),void 0)}}]),angular.module("Uelives").controller("choiceLanguageController",["$scope","$rootScope","$timeout","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},e.input.language={from:"中文",to:""};var s=u.get("cache");s&&s[r.cache_key]&&(e.input.language=s[r.cache_key]),e.input.choice="0",o.query_language().then(function(t){e.languages=t}),e.query_language=function(t){e.input.choice=t},e.select_language=function(n){e.input.tag=n,"0"==e.input.choice&&(e.input.language.to=n),"1"==e.input.choice&&(e.input.language.from=n,e.input.choice="0"),e.input.language.from&&e.input.language.to&&(s[r.cache_key]=e.input.language,u.set("cache",s),t.back())},e.query_inter_language=function(t){o.query_language().then(function(t){e.languages=t}),e.input.choice=t},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("choiceCityController",["$scope","$routeParams","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u){e.input={},e.input.tag=u.get("city")||"",e.input.choice="1",e.select_city=function(r){e.input.tag=r;var o=u.get("cache");o&&t.cache_key&&(o[t.cache_key]=r,u.set("cache",o)),n.back()},o.query_city().then(function(t){e.cities=t}),e.query_city=function(t){o.query_city().then(function(t){e.cities=t}),e.input.choice=t},e.query_inter_city=function(t){o.query_inter_city().then(function(t){e.cities=t}),e.input.choice=t},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("certificateController",["$scope","$routeParams","$filter","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,i,a,u,s,c,l){e.input={},e.input.remove_id=t.id,e.input.time_option={placeholder:"请选择入职时间"},e.query_cert_experience=function(){s.show(),a.query_cert_experience({user_identity_id:t.id}).then(function(t){s.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(e.input.get_time=t.Result.UserIdentity.get_time,e.input.title=t.Result.UserIdentity.title,e.input.image_01=t.Result.UserIdentity.image_01,e.input.time_option={value:e.input.get_time}):u.autoHide(t.message)})},e.ajaxForm=function(){return t.id?(e.update(),void 0):(e.create(),void 0)},e.input.flow={},e.create=function(){s.show(),a.create_cert_experience({fileName:e.input.flow.opts.query.filename,title:e.input.title,get_time:e.input.time_option.value}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.update=function(){e.input.image_01=e.input.flow.opts.query.filename||e.input.image_01,s.show(),a.update_cert_experience({user_identity_id:t.id,fileName:e.input.image_01,title:e.input.title,get_time:e.input.time_option.value}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},e.remove=function(){s.show(),a.remove_cert_experience({user_identity_id:t.id}).then(function(e){s.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(u.autoHide(e.message),o(function(){r.back()},2e3)):u.autoHide(e.message)})},t.id&&e.query_cert_experience()}]),angular.module("Uelives").controller("bookingDateController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").constant("config",{url:"http://192.168.1.143:8080",imageUrl:"http://192.168.1.143:8080/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5",app_sign:"123456"},interceptor:["index","booking_date","choice_city","choice_language","choice_time","edit_basic_info","edit_edu_exprience","edit_work_exprience","interpreter_detail","interpreter_level","interpreter_list","interpreter_evaluate","interpreter_settled","online_booking","online_preview","schedule","schedule_preview","order_management_interpreter","order_management_user","order","order_cancel","order_confirm","order_finish","order_wait","languages","related_industry","self_booking","information","scenes","certificate","preview_comment"]});
>>>>>>> 08c6a7161cd460ba90a915cd42b9a8d4b1523504
//# sourceMappingURL=app.min.js.map
