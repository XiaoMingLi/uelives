angular.module("Uelives",["ngRoute","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,t,n,r,o){angular.forEach(o.interceptor,function(t){var n=t.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});n+="Controller",e.when("/"+t,{templateUrl:"templates/"+t+".html",reloadOnSearch:!1,controller:n,resolve:{user:["$q","$location","localStorageService",function(e,n,r){var o=["account"],a=e.defer();return o.includes(t)&&!r.get("token")?(a.reject(),n.path("/signin").replace(),void 0):(a.resolve(),a.promise)}]}})}),e.otherwise("/index"),t.defaults.useXDomain=!0,t.defaults.withCredentials=!0,delete t.defaults.headers.common["X-Requested-With"],r.setStorageCookie(.02),t.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Uelives").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,n,r,o){return{rsa_key:n._get(angular.extend({},o.common_params,{url:"key/private_key.pem"})),signin:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),signup:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/RegistTelOne"})),forget:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),reset:n._get(angular.extend({},o.common_params,{url:o.url+"api_url"})),get_smscode:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/GetCode"})),query_basicinfo:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/userInfo",token:r.get("token")})),update_avatar:n._get(angular.extend({},o.common_params,{url:o.url+"/app/UserCenter/updateBgImg",token:r.get("token")})),realname_authen:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),phone_authen:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),like:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),unlike:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_messages:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_message_by_id:n._get(angular.extend({},o.common_params,{url:o.url+"api_url",token:r.get("token")})),query_city:n._get(angular.extend({},o.common_params,{url:"city/city_with_index.json",token:r.get("token")})),query_inter_city:n._get(angular.extend({},o.common_params,{url:"city/inter_city_with_index.json",token:r.get("token")})),query_language:n._get(angular.extend({},o.common_params,{url:"city/language.json",token:r.get("token")}))}}]),angular.module("Uelives").factory("uelivesServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,n,r,o){return{rsa_key:n._get(angular.extend({},o.common_params,{url:"key/private_key.pem"}))}}]),angular.module("Uelives").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,t,n,r,o){return{request:function(e){return e},requestError:function(){},response:function(r){var a=t.defer();return r.config.url.indexOf(".html")>0?r:r.data.respcode==o.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),n.remove("token"),e.path("/signIn").replace(),a.promise):r},responseError:function(e){var n=t.defer();return r.requestError(e.data,e.status,e.headers,e.config),n.promise}}}]),angular.module("Uelives").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Uelives").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,t,n){return{show:function(t){e.error_msg=t,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(n){e.error_msg=n,$(".error-msg").show(),t(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,t,r,o){switch(n.hide(),t){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(t),console.log(e),console.log(r),console.log(o),console.log("onRequestError end")}}}]),angular.module("Uelives").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices","config",function(e,t,n,r,o,a){var i=function(){},c=function(e,t,n){o.hide(),r.hide(),l(e,t,n)},s=function(){},l=function(){};return{init:function(){e.$on("$routeChangeStart",i),e.$on("$routeChangeSuccess",c),e.$on("$routeChangeError",s),e.go=function(e){n.path(e)},e.back=function(){t.history.back()},e.staticImageUrl=a.imageUrl}}}]),angular.module("Uelives").factory("apiServices",["$http",function(e){return{_get:function(t){return function(n){return e({url:t.url,method:"GET",params:angular.extend({},t,n)}).then(function(e){return e.data})}},_post:function(t){return function(n){return e({url:t.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},data:angular.extend({},t,n)}).then(function(e){return e.data})}}}}]),angular.module("Uelives").directive("uploader",["$timeout","localStorageService","toastServices","errorServices","config",function(e,t,n,r,o){return{restrict:"E",template:function(e,t){var n="",r=t.rate;return n="<imageview center-only data-rate='"+r+"' src='src'></imageview>"},controller:["$scope","$element","$attrs",function(e,r,a){var i,c;e.$on("flow::filesSubmitted",function(e,r){r.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return c=e,e}),i=(new Date).getTime()+c,r.opts.target=o.url+"/app/UserCenter/updatePic",r.opts.testChunks=!1,r.opts.fileParameterName="image_01",r.opts.query={invoke:"h5",token:t.get("token"),filename:i},n.show(),r.upload()}),e.$on("flow::fileAdded",function(){}),e.src="../images/default.png",a.$observe("src",function(t){t&&(e.src=o.imageUrl+t)}),e.$on("flow::fileSuccess",function(){e.src=o.imageUrl+i,n.hide()})}],link:function(){}}}]),angular.module("Uelives").directive("showOnLoaded",function(){return{link:function(e,t){$(t).css({visibility:"hidden"}),t.bind("load",function(){console.log("loaded");var n=parseFloat(e.$eval($(t).parent().attr("data-rate")));if(!n)return console.log("unexpect rate"),void 0;var r=$(t).width()/$(t).height();n>r?$(t).css({height:"100%",width:"auto"}):$(t).css({height:"auto",width:"100%"}),$(t).parent().css({background:"none"}),$(t).css({visibility:"visible"})})}}}),angular.module("Uelives").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,t){e.$last&&e.$emit("onRepeatDone",t)}}}),angular.module("Uelives").directive("onload",function(){return{restrict:"A",link:function(e,t){$(t).css({opacity:0}),$(t).bind("load",function(){$(t).css({opacity:1})})}}}),angular.module("Uelives").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' readonly ng-model='options.value'>",link:function(t,n){var r={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){t.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(n).find("input").datePicker(angular.extend({},r,t.options))},0)}}}]),angular.module("Uelives").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"="},controller:["$scope","$element","$attrs",function(t,n,r){function o(e){$(e.target).css({width:"auto",height:"auto"});var n=$(e.target),r=n.width(),o=n.height(),a=parseFloat(r)/parseFloat(o);a<t.rate?(r=t.width,o=t.width/a,n.css({display:"inline-block",height:o,width:r,"margin-top":-(o-t.height)/2})):(o=t.height,r=o*a,n.css({display:"inline-block",height:o,width:r,"margin-left":-(r-t.width)/2})),n.parent().css({background:"none"}),n.css({visibility:"visible"})}function a(e){var n=$(e.target),r=n.width(),o=n.height(),a=parseFloat(r)/parseFloat(o);a<t.rate?n.css({display:"inline-block",height:"100%",width:"auto"}):n.css({display:"inline-block",height:"auto",width:"100%"}),n.parent().css({background:"none"}),n.css({visibility:"visible"})}return t.bg_image="../images/default.png",t.rate=parseFloat(r.rate),t.width=n.parent().width()||$(window).width(),t.height=t.width/t.rate,t.rate?(this.show_center_on_loaded=function(t){o(t),e(function(){o(t)},100)},this.show_on_loaded=function(t){a(t),e(function(){a(t)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var t="<img ng-src='{{src}}' show-center-on-loaded err-src='../images/default.png'>";return void 0==$(e).attr("center-only")&&(t="<img ng-src='{{src}}' show-on-loaded err-src='../images/default.png'>"),t},link:function(e,t){var n={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.bg_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(t).css(n)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,n,r){t.bind("load",r.show_on_loaded)}}}).directive("showCenterOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,n,r){t.bind("load",r.show_center_on_loaded)}}}),angular.module("Uelives").directive("dribehanceHeader",function(){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(){}}}),angular.module("Uelives").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Uelives").directive("errSrc",function(){return{restrict:"A",link:function(e,t,n){$(t).bind("error",function(){$(t).attr("src",n.errSrc)})}}}),angular.module("Uelives").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(t,n){function r(){var n=t.countdown.message,r=parseFloat(t.countdown.count)?parseFloat(t.countdown.count):60;o=!0,t.$apply(function(){t.countdown.message=r--,t.countdown.message=r+"s重新获取",t.countdown.mode="disabled",t.countdown.reset=!1,t.countdown.callback()});var a=e(function(){t.countdown.message=r--,t.countdown.message=r+"s重新获取",(0>r||t.countdown.reset)&&(e.cancel(a),t.countdown.message=n,o=!1)},1e3)}var o=!1;$(n).bind("click",function(){t.disabled||o||r()})}}}]),angular.module("Uelives").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,t){var n={autoplay:!0,items:1};n=angular.extend({},n,e.$eval($(t).attr("data-options")));var r=parseFloat(e.$eval($(t).attr("data-rate"))),o={display:"block",width:$(t).parent().width()||$(window).width(),height:($(t).parent().width()||$(window).width())/r};$(t).css(o),e.$on("onRepeatDone",function(){$(t).find(".carousel-holder").owlCarousel(n)})}}}),angular.module("Uelives").controller("selfBookingController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.gender=1,e.select_gender=function(t){e.input.gender=t},e.model={status:0},e.go=function(){e.model.status=1},e.cancel=function(){e.model.status=0}}]),angular.module("Uelives").controller("scenesController",["$scope","$rootScope","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o){e.input={},e.input.scene=o.get("scene")||"",e.select_scene=function(e){e.select=!e.select},e.scenes=[{name:"商务陪同",select:!1},{name:"商务会谈",select:!1},{name:"展会翻译",select:!1},{name:"活动仪式",select:!1},{name:"学术研讨",select:!1},{name:"培训讲座",select:!1},{name:"媒体访谈",select:!1},{name:"新闻发布",select:!1},{name:"节目录制",select:!1},{name:"医疗美容",select:!1},{name:"司法程序",select:!1},{name:"政府会晤",select:!1},{name:"会议同传",select:!1},{name:"其他",select:!1}],e.save=function(e){o.set("scene",e),t.back()}}]),angular.module("Uelives").controller("relatedIndustryController",["$scope","$rootScope","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o){e.input={},e.select=function(e){console.log(e),e.select=!e.select},e.industries=[{name:"机械机电",select:!1},{name:"汽车",select:!1},{name:"电子",select:!1},{name:"航空",select:!1},{name:"化工",select:!1},{name:"IT通讯",select:!1},{name:"进出口贸易",select:!1},{name:"互联网",select:!1},{name:"游戏",select:!1},{name:"文化传媒",select:!1},{name:"教育培训",select:!1},{name:"影视",select:!1},{name:"字幕",select:!1},{name:"娱乐",select:!1},{name:"体育",select:!1},{name:"医疗健康",select:!1},{name:"医疗设备",select:!1},{name:"医药",select:!1},{name:"食品",select:!1},{name:"日化",select:!1},{name:"建筑",select:!1},{name:"租赁",select:!1},{name:"法律",select:!1},{name:"专利",select:!1},{name:"咨询",select:!1},{name:"广告",select:!1},{name:"金融",select:!1},{name:"财经",select:!1},{name:"矿产能源",select:!1},{name:"水利",select:!1}],e.save=function(e){o.set("industry",e),t.back()}}]),angular.module("Uelives").controller("orderWaitController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderManagementUserController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={type:"wait",status:"wait"},e.orders=[{type:"wait",status:"1",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"wait",status:"2",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"confirm",status:"3",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"confirm",status:"4",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"finish",status:"5",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"finish",status:"6",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"cancel",status:"7",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}},{type:"cancel",status:"8",status_message:"",title:"",from_date:"",end_date:"",summary:"",user:{avatar:"",name:""}}],e.active_tab=function(t){(t!=e.input.type||t!=e.input.status)&&(e.input.type=t,e.input.status=t)}}]),angular.module("Uelives").controller("orderManagementInterpreterController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderFinishControllerController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderConfirmController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("orderCancelController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("onlinePreviewController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("onlineBookingController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.gender=1,e.select_gender=function(t){e.input.gender=t},e.check=function(t){e.input.check=t}}]),angular.module("Uelives").controller("letterIndexController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.$on("onRepeatDone",function(){var t=$(".letter"),n=t.find("span"),r=n.height()+parseFloat(n.css("padding-top")),o=new Hammer(t[0]);o.get("pan").set({direction:Hammer.DIRECTION_ALL}),o.on("panleft panright panup pandown tap press",function(t){var n=Math.round(t.deltaY/r);e.navgation_to($(t.target),n)}),o.on("panend",function(){e.$apply(function(){e.letter_index=""})}),e.navgation_to=function(t,r){var o=n.index(t)+r;o=Math.min(o,n.length-1),o=Math.max(0,o),e.$emit("letterIndexChange",n.eq(o).text())},e.$on("letterIndexChange",function(t,n){e.$apply(function(){e.letter_index=n}),$("body").scrollTop($("[data-index="+n+"]").offset().top)})})}]),angular.module("Uelives").controller("interpreterSettledController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,a,i,c){i.get("token")&&n.path("information").replace(),e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){a.show(),r.get_smscode({telephone:e.input.telephone}).then(function(t){a.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?o.autoHide(t.message):(e.countdown.reset=!0,o.autoHide(t.message))})},e.ajaxForm=function(){a.show(),r.signup({telephone:e.input.telephone,tel_code:e.input.code,weChat:e.input.wechat}).then(function(e){a.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(o.autoHide(e.message),t(function(){i.set("token",e.token),n.path("information").replace()},2e3)):o.autoHide(e.message)})}}]),angular.module("Uelives").controller("interpreterListController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("interpreterLevelController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.check="1",e.check=function(t){e.input.check=t}}]),angular.module("Uelives").controller("interpreterEvaluateController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("interpreterDetailController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("informationController",["$scope","$filter","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,a,i){e.input={},o.show(),n.query_basicinfo({type:"1"}).then(function(t){o.hide(),t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?e.user=t.Result.UserInfo:r.autoHide(t.message)}),e.input.flow={},e.update_avatar=function(){o.show(),n.update_avatar({fileName:e.input.flow.opts.query.filename}).then(function(e){o.hide(),e.code==i.request.SUCCESS&&e.status==i.response.SUCCESS?r.autoHide(e.message):r.autoHide(e.message)})},e.format_time=function(e,n){return t("date")(e,n)}}]),angular.module("Uelives").controller("indexController",["$scope","errorServices","toastServices","localStorageService","config",function(e,t,n,r){e.input={},e.input.city=r.get("city")||"深圳",e.input.language=r.get("language")||{from:"中文"},e.input.scene=r.get("scene")||[],e.input.days="",e.input.industry=r.get("industry")||"",e.input.gender=0,e.select_gender=function(t){e.input.gender=t}}]),angular.module("Uelives").controller("editWorkExprienceController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("editEduExprienceController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("editBasicInfoController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.options={},e.input.gender=1,e.select_gender=function(t){e.input.gender=t},e.input.type=1,e.select_type=function(t){e.input.type=t},e.degrees=["请选择","大专","本科","硕士","博士"],e.input.degree=e.degrees[0]}]),angular.module("Uelives").controller("choiceTimeController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.days=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],e.input.day=e.days["0"],e.select_gender=function(t){e.input.gender=t}}]),angular.module("Uelives").controller("choiceLanguageController",["$scope","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,a,i){e.input={},e.language=i.get("language")||{from:"中文"},e.input.choice="0",r.query_language().then(function(t){e.languages=t}),e.query_language=function(t){e.input.choice=t},e.select_language=function(n){e.input.tag=n,"1"==e.input.choice&&(e.language.from=n,i.set("language",e.language)),"0"==e.input.choice&&(e.language.to=n,i.set("language",e.language)),e.language.from&&e.language.to&&t.back()},e.query_inter_language=function(t){r.query_language().then(function(t){e.languages=t}),e.input.choice=t},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("choiceCityController",["$scope","$rootScope","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,n,r,o,a,i){e.input={},e.input.tag=i.get("city")||"",e.input.choice="1",e.select_city=function(n){e.input.tag=n,i.set("city",n),t.back()},r.query_city().then(function(t){e.cities=t}),e.query_city=function(t){r.query_city().then(function(t){e.cities=t}),e.input.choice=t},e.query_inter_city=function(t){r.query_inter_city().then(function(t){e.cities=t}),e.input.choice=t},e.parse_key=function(e){return e.substring(0,2)}}]),angular.module("Uelives").controller("certificateController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").controller("bookingDateController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Uelives").constant("config",{url:"http://uelives.com:9001",imageUrl:"http://uelives.com:9001/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5"},interceptor:["index","booking_date","choice_city","choice_language","choice_time","edit_basic_info","edit_edu_exprience","edit_work_exprience","interpreter_detail","interpreter_level","interpreter_list","interpreter_evaluate","interpreter_settled","online_booking","online_preview","order_management_interpreter","order_management_user","order_cancel","order_confirm","order_finish","order_wait","related_industry","self_booking","information","scenes","certificate"]});
//# sourceMappingURL=app.min.js.map
